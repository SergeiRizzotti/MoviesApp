{"version":3,"sources":["components/MovieItem.jsx","utils/api.js","components/MovieTabs.jsx","components/Pagination.jsx","components/App.jsx","index.js"],"names":["MovieItem","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","willWatch","_this2","_this$props","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","console","log","react_default","a","createElement","title","className","src","concat","backdrop_path","poster_path","alt","vote_average","type","onClick","setState","bind","React","Component","API_URL","API_KEY_3","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","getClassLink","Pagination","pageSelected","pageIncrease","pageDecrease","totalPages","disabled","enabled","App","getMovies","fetch","then","response","json","data","movies","results","total_pages","updateMovies","filter","item","id","updateMovieToWillWatch","toConsumableArray","moviesWillWatch","updateMoviesWillWatch","prevProps","prevState","components_MovieTabs","components_Pagination","map","key","components_MovieItem","length","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.c3bbda8a.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nclass MovieItem extends React.Component {\r\n\tconstructor() {\r\n\t\tsuper()\r\n\r\n\t\tthis.state = {\r\n\t\t\twillWatch: false,\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { movie, removeMovie, addMovieToWillWatch, removeMovieFromWillWatch } = this.props\t\r\n\t\tconsole.log(movie);\r\n\t\t\t\r\n\t\treturn (\r\n      <div>\r\n        <div>\r\n          <p>{movie.title}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <img\r\n            className=\"card-img-top\"\r\n            src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path || movie.poster_path}`}\r\n            alt=\"\"\r\n          />\r\n          <div className=\"card-body\">\r\n            <h6 className=\"card-title\">{movie.title}</h6>\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n              <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n              {this.state.willWatch === true ? (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-success\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      willWatch: false,\r\n                    });\r\n                    removeMovieFromWillWatch(movie);\r\n                  }}\r\n                >\r\n                  Remove Will Watch\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      willWatch: true,\r\n                    });\r\n                    addMovieToWillWatch(movie);\r\n                  }}\r\n                >\r\n                  Add Will Watch\r\n                </button>\r\n              )}\r\n            </div>\r\n            <button className=\"btn btn-secondary\" onClick={removeMovie.bind(this, movie)}>\r\n              Delete movie\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\t}\r\n}\r\n\r\nexport default MovieItem\r\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\"\r\n\r\nclass MovieTabs extends React.Component{\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if(nextProps.sort_by !== this.props.sort_by){\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n    render(){\r\n        const { sort_by, updateSortBy } = this.props;\r\n        const handleClick = value => {\r\n            return () => {\r\n                updateSortBy(value)\r\n            };\r\n        };\r\n        const getClassLink = value => {\r\n            return `nav-link ${sort_by === value ? \"active\" : \"\"}`\r\n        }\r\n        return (\r\n            <ul className=\"tabs nav nav-pills\">\r\n                <li className=\"nav-item\">\r\n                    <div\r\n                        className={getClassLink(\"popularity.desc\")}\r\n                        onClick={handleClick(\"popularity.desc\")}\r\n                    >Popylarity\r\n                </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div\r\n                        className={getClassLink(\"revenue.desc\")}\r\n                        onClick={handleClick(\"revenue.desc\")}\r\n                    >Revenue\r\n                </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div\r\n                        className={getClassLink(\"vote_avearage.desc\")}\r\n                        onClick={handleClick(\"vote_avearage.desc\")}\r\n                    >Vote avearage\r\n                </div>\r\n                </li>\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MovieTabs\r\n","import React from \"react\"\r\n\r\nclass Pagination extends React.Component {\r\n    constructor() {\r\n        super()\r\n    }\r\n    render() {\r\n        const { pageSelected, pageIncrease, pageDecrease, totalPages } = this.props\r\n\r\n        return (<div>\r\n            <button \r\n                className=\"btn btn-primary text-white\" \r\n                onClick={pageDecrease}\r\n                disabled={pageSelected === 1}\r\n            >Prev</button>\r\n                <span className=\"px-4\">{pageSelected} из {totalPages}</span>\r\n            <button \r\n                className=\"btn btn-primary text-white\" \r\n                onClick={pageIncrease}\r\n                enabled={pageSelected === totalPages}\r\n            >Next</button>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Pagination","import React from \"react\"\nimport MovieItem from \"./MovieItem\"\nimport { API_URL, API_KEY_3 } from \"../utils/api\"\nimport MovieTabs from \"./MovieTabs\"\nimport Pagination from \"./Pagination\"\n\nclass App extends React.Component {\n\tconstructor() {\n\t\tsuper()\n\n\t\tthis.state = {\n\t\t\tmovies: [],\n\t\t\tmoviesWillWatch: [],\n\t\t\tsort_by: \"popularity.desc\",\n\t\t\tpageSelected: 1,\n\t\t\ttotalPages: 0,\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getMovies()\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevState.sort_by !== this.state.sort_by || prevState.pageSelected !== this.state.pageSelected) {\n\t\t\tthis.getMovies();\n\t\t}\n\t}\n\n\tgetMovies = () => {\n\t\tfetch(\n\t\t\t`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.pageSelected}`, \n\t\t\t\n\t\t)\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json()\n\t\t\t})\t\t\t\n\t\t\t.then((data) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tmovies: data.results,\n\t\t\t\t\ttotalPages: data.total_pages,\n\t\t\t\t})\n\t\t\t})\n\t}\n\n\tremoveMovie = (movie) => {\n\t\tconst updateMovies = this.state.movies.filter(function (item) {\n\t\t\treturn item.id !== movie.id\n\t\t})\n\t\tthis.setState({\n\t\t\tmovies: updateMovies,\n\t\t})\n\t}\n\n\taddMovieToWillWatch = (movie) => {\n\t\tconst updateMovieToWillWatch = [...this.state.moviesWillWatch, movie]\n\n\t\tthis.setState({\n\t\t\tmoviesWillWatch: updateMovieToWillWatch,\n\t\t})\n\t}\n\n\tremoveMovieFromWillWatch = (movie) => {\n\t\tconst updateMoviesWillWatch = this.state.moviesWillWatch.filter(function (item) {\t\t\t\n\t\t\treturn item.id !== movie.id\n\t\t})\n\t\tthis.setState({\n\t\t\tmoviesWillWatch: updateMoviesWillWatch,\n\t\t})\n\t}\n\n\tupdateSortBy = (value) => {\n\t\tthis.setState({\n\t\t\tsort_by: value,\n\t\t\tpageSelected: 1\n\t\t})\n\t}\n\n\tpageIncrease = () => {\n\t\tif (this.state.pageSelected <= 500) {\n\t\t\tthis.setState({\n\t\t\t\tpageSelected: this.state.pageSelected + 1\n\t\t\t})\n\t\t}\n\t}\n\t\n\tpageDecrease = () => {\n\t\tif (this.state.pageSelected > 1) {\n\t\t\tthis.setState({\n\t\t\t\tpageSelected: this.state.pageSelected - 1\n\t\t\t})\n\t\t} \t\t\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row m-4\">\n\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t<MovieTabs \n\t\t\t\t\t\t\tsort_by={this.state.sort_by} \n\t\t\t\t\t\t\tupdateSortBy={this.updateSortBy} \n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row m-4\">\n\t\t\t\t\t<div className=\"col-9 d-flex justify-content-center\">\n\t\t\t\t\t\t<Pagination \n\t\t\t\t\t\t\tpageSelected={this.state.pageSelected}\n\t\t\t\t\t\t\tpageIncrease={this.pageIncrease}\n\t\t\t\t\t\t\tpageDecrease={this.pageDecrease}\n\t\t\t\t\t\t\ttotalPages={this.state.totalPages}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-9\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t{this.state.movies.map((movie) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"col-6 mb-4\" key={movie.id}>\n\t\t\t\t\t\t\t\t\t\t<MovieItem\n\t\t\t\t\t\t\t\t\t\t\tmovie={movie}\n\t\t\t\t\t\t\t\t\t\t\tremoveMovie={this.removeMovie}\n\t\t\t\t\t\t\t\t\t\t\taddMovieToWillWatch={this.addMovieToWillWatch}\n\t\t\t\t\t\t\t\t\t\t\tremoveMovieFromWillWatch={this.removeMovieFromWillWatch}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t<p>Will watch: {this.state.moviesWillWatch.length}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"row m-4\">\n\t\t\t\t\t<div className=\"col-9 d-flex justify-content-center\">\n\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\tpageSelected={this.state.pageSelected}\n\t\t\t\t\t\t\tpageIncrease={this.pageIncrease}\n\t\t\t\t\t\t\tpageDecrease={this.pageDecrease}\n\t\t\t\t\t\t\ttotalPages={this.state.totalPages}\n\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\n\nReactDOM.render( <App />, document.getElementById(\"root\"));"],"sourceRoot":""}